@layout AdminMainLayout
@page "/{department}/Admin/EquipmentModels"
@using Coworking.Shared.Services

@inject IAdminEquipmentModelsGrpcService AdminService

<Paragraph>EquipmentModels</Paragraph>
@if (EquipmentModelsList == null)
{
    <Paragraph>loading...</Paragraph>
}
else
{
    @foreach (var eqModel in EquipmentModelsList)
    {
        <Paragraph>@eqModel.Name @eqModel.Description</Paragraph>
    }
}

@code {

    [Parameter]
    public string Department { get; set; } = null!;

    public List<EquipmentModelDto>? EquipmentModelsList { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var request = new GetAllEquipmentModelsRequest()
        {
            DepartmentName = Department
        };
        var response = await AdminService.GetAllEquipments(request);

        EquipmentModelsList = response.EquipmentModels;
    }
}